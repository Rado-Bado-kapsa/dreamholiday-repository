/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/modules/module_filter/js/module_filter.modules_tabs.js. */
(function(e){Drupal.ModuleFilter=Drupal.ModuleFilter||{};var t=Drupal.ModuleFilter,a=function(a,i){var d=e('<ul class="modules-tabs__menu"></ul>'),v=new s(Drupal.t('All modules'),'all'),o=new s(Drupal.t('Recently enabled'),'recent'),r=new s(Drupal.t('Newly available'),'new');a=e.extend({'all':v,'recent':o,'new':r},a);for(var n in a){d.append(a[n].element)};i.wrap('<div class="modules-tabs clearfix"></div>');i.before(d);i.addClass('modules-tabs__pane');this.tabs=a;this.element=d;this.activeTab=null;var b=e(t.selector,t.wrapper);if(!b.filter('.recent').length){var o=this.tabs['recent'];if(o){o.element.addClass('disabled');o.setSummary(Drupal.t('No modules installed or uninstalled within the last week.'));o.showSummary()}};if(!b.filter('.new').length){var r=this.tabs['new'];if(r){r.element.addClass('disabled');r.setSummary(Drupal.t('No modules added within the last week.'));r.showSummary()}};var u=e(t.selector,t.wrapper),h,l;for(var n in this.tabs){if(this.tabs[n].element.hasClass('disabled')){continue};switch(n){case'all':var f=u.find('td.checkbox :checkbox');h=f.filter(':checked').length;l=f.length;break;case'recent':var m=u.filter('.recent').find('td.checkbox :checkbox');h=m.filter(':checked').length;l=m.length;break;case'new':var p=u.filter('.new').find('td.checkbox :checkbox');h=p.filter(':checked').length;l=p.length;break;default:var c=u.filter('.package__'+n).find(' td.checkbox :checkbox');h=c.filter(':checked').length;l=c.length;break};if(l){var g=Drupal.t('@enabled of @total',{'@enabled':h,'@total':l});this.tabs[n].setSummary(g,'enabledCount')}}};a.prototype.getActive=function(){if(this.activeTab){return this.activeTab}};a.prototype.setActive=function(e){if(this.activeTab){this.activeTab.hideSummary();this.activeTab.element.removeClass('is-selected')};this.activeTab=e;this.activeTab.element.addClass('is-selected');this.activeTab.showSummary();return this.activeTab};a.prototype.get=function(e){if(this.tabs[e]){return this.tabs[e]}};a.prototype.resetResults=function(){for(var e in this.tabs){this.tabs[e].resetResults()}};a.prototype.showResults=function(){var s=['all','recent','new'];for(var e in this.tabs){var t=this.tabs[e].results.length;if(t>0||e==this.activeTab.packageId||s.indexOf(e)>=0){this.tabs[e].showResults();this.tabs[e].element.show()}
else{this.tabs[e].element.hide()}}};a.prototype.hideResults=function(){for(var e in this.tabs){this.tabs[e].hideResults();this.tabs[e].element.show()}};var s=function(t,s){this.name=t;this.packageId=s;this.element=e('<li class="modules-tabs__menu-item tab__'+this.packageId+'"></li>');this.results=[];this.link=e('<a href="#'+this.packageId+'"><strong>'+this.name+'</strong></a>');this.element.append(this.link);this.link.append('<span class="result"></span>');this.summary=null};s.prototype.select=function(){t.tabs.setActive(this);if(t.winnow){t.winnow.filter()}};s.prototype.resetResults=function(){this.results=[]};s.prototype.showResults=function(){e('span.result',this.element).text(this.results.length)};s.prototype.hideResults=function(){e('span.result',this.element).empty()};s.prototype.setSummary=function(e,t,s){if(!this.summary){this.summary=new i();this.link.append(this.summary.element)};this.summary.set(e,t,s)};s.prototype.showSummary=function(){this.toggleSummary(!0)};s.prototype.hideSummary=function(){this.toggleSummary(!1)};s.prototype.toggleSummary=function(e){if(this.summary){this.summary.toggle(Boolean(e))}};s.prototype.toggleEnabling=function(t){this.enabling=this.enabling||{};if(this.enabling[t]!=undefined){delete this.enabling[t]}
else{this.enabling[t]=t};var s=[];for(var i in this.enabling){s.push(this.enabling[i])};e('ul.enabling',this.element).remove();if(s.length){s.sort();var a=e('<ul class="item-list__comma-list enabling"></ul>');a.append('<li>'+s.join('</li><li>')+'</li>');this.setSummary(a,'enabling',!0)}
else{this.setSummary('','enabling')}};var i=function(){this.element=e('<div class="summary"></div>');this.element.hide();this.items={}};i.prototype.show=function(){this.toggle(!0)};i.prototype.hide=function(){this.toggle(!1)};i.prototype.toggle=function(e){e=Boolean(e);this.element.children(':not(.persistent)').toggle(e);if(!e&&!this.element.children('.persistent').length){this.element.hide()}
else{this.element.show()}};i.prototype.set=function(t,s,a){if(!s){s='default'};var i=!1;if(typeof t=='string'||typeof t=='boolean'){if(!t){i=!0}}
else if(typeof t=='object'){if(!t.length){i=!0}};if(i){if(this.items[s]!=undefined){this.items[s].remove();delete this.items[s]};if(!Object.keys(this.items).length){this.hide()};return};if(a==undefined){a=!1};if(this.items[s]===undefined){var n=e('<span></span>');this.element.append(n);this.items[s]=n};this.items[s].empty().append(t);this.items[s].toggleClass('persistent',a);if(a){this.show()}};Drupal.behaviors.moduleFilterModulesTabs={attach:function(i){if(t.input!=undefined){var n={};function l(){var i=e('table',t.wrapper).first(),a=e('<table></table>');if(i.hasClass('responsive-enabled')){a.addClass('responsive-enabled')};var o=i.attr('data-striping');if(o){a.attr('data-striping',o)};var l=e('<colgroup></colgroup>');e('thead th',i).each(function(){l.append('<col class="'+e(this).attr('class')+'">')});e('col',l).removeClass('visually-hidden');a.append(l);a.append(e('thead',i));a.append('<tbody></tbody>');t.modulesWrapper.children('details').each(function(){var i=e(this),l=i.children('summary').text(),t=i.children('summary').attr('aria-controls');t=t.toLowerCase().replace(/[^a-z0-9]+/g,'-').replace(/^-|-$/g,'');if(n[t]==undefined){n[t]=new s(l,t)};e('.details-wrapper tbody tr',i).each(function(){var s=e(this);s.addClass('package__'+t);s.data('moduleFilter.packageId',t);s.hover(function(){n[t].element.addClass('suggest')},function(){n[t].element.removeClass('suggest')});e('td.checkbox input',s).change(function(){s.toggleClass('enabling',e(this).is(':checked'));var t=s.data('moduleFilter.packageId');if(t&&n[t]){n[t].toggleEnabling(e('td.module label',s).text())}});e('tbody',a).append(s)})});t.modulesWrapper.children('details').remove();var r=e('tbody tr',a);r.sort(function(t,s){var a=e('td.module label',t).text(),i=e('td.module label',s).text();if(a==i){return 0};return a>i?1:-1});r.detach().appendTo(e('tbody',a));t.modulesWrapper.append(a)};function r(){var s=window.location.hash;s=s.substring(s.indexOf('#')+1);var e=t.tabs.get(s);if(e){e.select()}
else{e=t.tabs.get('all');if(e){e.select()}};t.input.focus()};l();t.tabs=new a(n,t.wrapper);t.winnow.options.rules.push(function(e){var s=t.tabs.getActive(),n=t.tabs.get('all');n.results.push(e);if(e.element.hasClass('recent')){var i=t.tabs.get('recent');i.results.push(e)};if(e.element.hasClass('new')){var a=t.tabs.get('new');a.results.push(e)};if(e.tab!=undefined&&e.tab){e.tab.results.push(e)};if(s&&s.packageId!='all'){switch(s.packageId){case'recent':if(e.element.hasClass('recent')){return!0};break;case'new':if(e.element.hasClass('new')){return!0};break;default:if(e.element.hasClass('package__'+s.packageId)){return!0};break};return!1}});t.winnow.bind('finishIndexing',function(s,a){e.each(a.index,function(e,s){var a=s.element.data('moduleFilter.packageId');if(a){s.tab=t.tabs.get(a)}})});t.winnow.bind('start',function(){t.tabs.resetResults()});t.winnow.bind('finish',function(){if(t.input.val()!=''){t.tabs.showResults()}
else{t.tabs.hideResults()}});e(window).bind('hashchange.moduleFilter',r).triggerHandler('hashchange.moduleFilter')}}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/modules/module_filter/js/module_filter.modules_tabs.js. */