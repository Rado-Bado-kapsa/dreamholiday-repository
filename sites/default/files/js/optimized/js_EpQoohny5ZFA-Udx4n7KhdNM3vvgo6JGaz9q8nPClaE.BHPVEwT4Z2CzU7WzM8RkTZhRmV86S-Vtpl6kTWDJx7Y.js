/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/modules/imce/js/imce.Tbb.js. */
(function(t,i,e){'use strict';e.Tbb=function(t,e){this.construct(t,e)};var o=e.Tbb.prototype;o.construct=function(o,n){var i=e.toolbarButtons[o]=this;i.id=o;t.extend(i,n);var s=i.createEl(),c=e.toolbarEl;if(i.prepend&&c.firstChild){c.insertBefore(s,c.firstChild)}
else{c.appendChild(s)};if(i.shortcut){e.addShortcut(i.shortcut,s)}};o.createEl=function(){var t=this,o=t.el,i;if(!o){o=t.el=e.createEl('<span class="imce-tbb imce-ficon" role="button"><span class="imce-tbb-title"></span></span>');if(i=t.icon){o.className+=' imce-ficon-'+i};o.className+=' imce-tbb--'+t.id;o.title=(t.tooltip||t.title)+(t.shortcut?' ('+t.shortcut+')':'');o.onclick=e.eTbbClick;o.Tbb=t;o.firstChild.innerHTML=t.title};return o};o.createPopupEl=function(){var o=this,t=o.popupEl;if(!t){t=o.popupEl=e.createLayer('imce-tbb-popup');t.className+=' imce-tbb-popup--'+o.id;t.onkeydown=e.eTbbPopupKeydown;t.Tbb=o;if(o.content){t.appendChild(o.content)}};return t};o.openPopup=function(o){var i=this;if(!i.active){i.createPopupEl();i.setActive(!0);var n=i.popupEl,c=t(i.el),s=c.offset();s.top+=c.outerHeight(!0);t(n).css(s).fadeIn();e.fixPosition(n);t('form').find('input,select,textarea').filter(':visible').eq(0).focus();if(o){t(document).bind('mousedown',{Tbb:i},e.eTbbDocMousedown)};if(i.onopen){i.onopen.apply(i,arguments)}}};o.closePopup=function(){var o=this;if(o.popupEl&&o.active){o.setActive(!1);t(o.popupEl).hide();e.contentEl.focus();if(o.onclose){o.onclose.apply(o,arguments)}}};o.setActive=function(t){this.toggleState('active',!!t)};o.setBusy=function(t){this.toggleState('busy',!!t)};o.setDisabled=function(t){this.toggleState('disabled',!!t)};o.toggleState=function(e,o){var i=this,n=i[e];if(o==null){o=!n};if(o){if(!n){i[e]=!0;t(i.el).addClass(e)}}
else if(n){i[e]=!1;t(i.el).removeClass(e)}};o.click=function(t){var o=this;if(!o.disabled){if(o.handler&&!o.busy){o.handler.call(o,e.eFix(t))};if(o.content){o.openPopup(!0)}}};e.eTbbClick=function(t){this.Tbb.click(t)};e.eTbbDocMousedown=function(o){var i=o.data.Tbb,n=i.popupEl;if(n!==o.target&&!t.contains(n,o.target)){i.closePopup();t(document).unbind('mousedown',e.eTbbDocMousedown)}};e.eTbbPopupKeydown=function(t){var e=t||window.event;if(e.keyCode===27){this.Tbb.closePopup();return!1}}})(jQuery,Drupal,imce);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/modules/imce/js/imce.Tbb.js. */