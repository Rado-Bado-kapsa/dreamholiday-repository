/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/core/misc/tableheader.js. */
(function(e,t,l){function i(t){var i=e(t);this.$originalTable=i;this.$originalHeader=i.children('thead');this.$originalHeaderCells=this.$originalHeader.find('> tr > th');this.displayWeight=null;this.$originalTable.addClass('sticky-table');this.tableHeight=i[0].clientHeight;this.tableOffset=this.$originalTable.offset();this.$originalTable.on('columnschange',{tableHeader:this},function(e,t){var i=e.data.tableHeader;if(i.displayWeight===null||i.displayWeight!==t){i.recalculateSticky()};i.displayWeight=t});this.createSticky()};function s(e,t){var s=i.tables,a=s.length;for(var l=0;l<a;l++){s[l][e](t)}};function o(t){var a=e(t.data.context).find('table.sticky-enabled').once('tableheader'),n=a.length;for(var l=0;l<n;l++){i.tables.push(new i(a[l]))};s('onScroll')};t.behaviors.tableHeader={attach:function(t){e(window).one('scroll.TableHeaderInit',{context:t},o)}};function a(e){return document.documentElement[e]||document.body[e]};function n(e){s('recalculateSticky')};function c(e){s('onScroll')};function r(e,t){s('stickyPosition',t.top)};e(window).on({'resize.TableHeader':n,'scroll.TableHeader':c});e(document).on({'columnschange.TableHeader drupalToolbarTrayChange':n,'drupalViewportOffsetChange.TableHeader':r});e.extend(i,{tables:[]});e.extend(i.prototype,{minHeight:100,tableOffset:null,tableHeight:null,stickyVisible:!1,createSticky:function(){var t=this.$originalHeader.clone(!0);this.$stickyTable=e('<table class="sticky-header"></table>').css({visibility:'hidden',position:'fixed',top:'0px'}).append(t).insertBefore(this.$originalTable);this.$stickyHeaderCells=t.find('> tr > th');this.recalculateSticky()},stickyPosition:function(e,t){var i={};if(typeof e==='number'){i.top=e+'px'};if(typeof t==='number'){i.left=this.tableOffset.left-t+'px'};return this.$stickyTable.css(i)},checkStickyVisible:function(){var i=a('scrollTop'),t=this.tableOffset.top-l.offsets.top,s=t+this.tableHeight,e=!1;if(t<i&&i<s-this.minHeight){e=!0};this.stickyVisible=e;return e},onScroll:function(e){this.checkStickyVisible();this.stickyPosition(null,a('scrollLeft'));this.$stickyTable.css('visibility',this.stickyVisible?'visible':'hidden')},recalculateSticky:function(t){this.tableHeight=this.$originalTable[0].clientHeight;l.offsets.top=l.calculateOffset('top');this.tableOffset=this.$originalTable.offset();this.stickyPosition(l.offsets.top,a('scrollLeft'));var i=null,n=null,o=null,c=this.$originalHeaderCells.length;for(var s=0;s<c;s++){i=e(this.$originalHeaderCells[s]);n=this.$stickyHeaderCells.eq(i.index());o=i.css('display');if(o!=='none'){n.css({width:i.css('width'),display:o})}
else{n.css('display','none')}};this.$stickyTable.css('width',this.$originalTable.outerWidth())}});t.TableHeader=i})(jQuery,Drupal,window.Drupal.displace);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/core/misc/tableheader.js. */