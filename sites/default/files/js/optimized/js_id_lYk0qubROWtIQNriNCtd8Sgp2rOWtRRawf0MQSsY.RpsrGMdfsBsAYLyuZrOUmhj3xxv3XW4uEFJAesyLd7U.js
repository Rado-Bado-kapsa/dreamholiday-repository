/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/modules/imce/js/imce.Item.js. */
(function(i,n,t){'use strict';t.Item=function(t){this.construct(t)};var e=t.Item.prototype;e.construct=function(t){this.createEl();this.setName(t)};e.createEl=function(){var n,i,e=this;if(!e.el){n=e.el=t.createEl('<div class="imce-item"><div class="imce-item-date"></div><div class="imce-item-height"></div><div class="imce-item-width"></div><div class="imce-item-size"></div><div class="imce-item-icon imce-ficon"></div><div class="imce-item-name"></div></div>');n.onmousedown=t.eItemMousedown;n.ondblclick=t.eItemDblclick;n.Item=e;i=n.children;e.dateEl=i[0];e.heightEl=i[1];e.widthEl=i[2];e.sizeEl=i[3];e.iconEl=i[4];e.nameEl=i[5]}};e.appendTo=function(t){t.appendItem(this)};e.remove=function(t){if(this.parent){this.parent.removeItem(this,t)}};e.click=function(e){var s=this;if(e){if(e.shiftKey){var a=t.activeFolder,o=t.getLastSelected(),r=o?a.indexOf(o):-1,h=a.indexOf(s),c=r<h?1:-1;while(r!==h){a.getItemAt(r+=c).select()};return};if(e.ctrlKey){return s.toggleSelect()}};var i,n=t.getSelection();for(i in n){if(t.owns(n,i)&&n[i]!==s){n[i].deselect()}};s.select()};e.dblClick=function(){if(t.sendtoHandler){t.runSendtoHandler([this])}
else{this.open()}};e.open=function(){var t=this.getUrl();if(t){window.open(t)}};e.select=function(){t.selectItem(this)};e.deselect=function(){t.deselectItem(this)};e.toggleSelect=function(){if(this.selected){this.deselect()}
else{this.select()}};e.setBusy=function(t){this.toggleState('busy',!!t)};e.setDisabled=function(t){this.toggleState('disabled',!!t)};e.isReady=function(){return!this.disabled&&!this.busy};e.getPath=function(){var i,e=this.path;if(e){return e};if(i=this.parent){if(e=i.getPath()){return t.joinPaths(e,this.name)}}};e.getUri=function(){var e=this.getPath();if(e){return t.joinPaths(t.getConf('root_uri','/'),e)}};e.getUrl=function(e,n){var s,i='';if(s=t.getConf('root_url')){i=t.joinPaths(s,encodeURIComponent(this.getPath()).replace(/%2F/g,'/'));if(e&&i.charAt(0)==='/'&&i.charAt(1)!=='/'){i=location.protocol+'//'+location.host+i};if(n){i+=(i.indexOf('?')===-1?'?':'&')+('s'+this.size)+('d'+this.date)}};return i};e.formatUri=function(){return n.checkPlain(this.getUri())};e.formatPath=function(){return n.checkPlain(this.path==='.'?this.name:this.getPath())};e.formatName=function(){return n.checkPlain(this.name)};e.formatSize=function(){return t.formatSize(this.size)};e.formatDate=function(e){return t.formatDate(this.date,e)};e.formatWidth=function(){return this.width?this.width*1+'':''};e.formatHeight=function(){return this.height?this.height*1+'':''};e.formatDimensions=function(){return this.width?this.width*1+'x'+this.height*1:''};e.extend=function(e){if(e){for(var i in e){if(!t.owns(e,i)){continue};this.setProperty(i,e[i])}}};e.setProperty=function(t,e){var i=this[t];if(i!==e){this[t]=e;this.triggerPropertyChange(t,i)}};e.setName=function(t){this.setProperty('name',t)};e.triggerPropertyChange=function(e,i){var n='on'+e.charAt(0).toUpperCase()+e.substr(1)+'Change';if(this[n]){this[n](i);if(this===t.previewingItem){t.updatePreview()}}};e.onNameChange=function(t){var e=this,i=e.formatName();e.nameEl.innerHTML=i;e.nameEl.title=i;if(e.parent){e.parent.onItemNameChange(e,t)}};e.onThumbnailChange=function(t){if(this.thumbnail){this.iconEl.innerHTML='<img src="'+this.thumbnail+'" alt="thumbnail">';this.iconEl.className+=' imce-item-thumbnail'}
else{this.iconEl.innerHTML='';i(this.iconEl).removeClass('imce-item-thumbnail')}};e.onSizeChange=function(t){var e=this.formatSize();this.sizeEl.innerHTML=e;this.sizeEl.title=e};e.onDateChange=function(t){var e=this.formatDate(!0);this.dateEl.innerHTML=e;this.dateEl.title=e};e.onWidthChange=function(t){var e=this.formatWidth();this.widthEl.innerHTML=e;this.widthEl.title=e};e.onHeightChange=function(t){var e=this.formatHeight();this.heightEl.innerHTML=e;this.heightEl.title=e};e.createPreviewEl=function(){var s,e=this,n=t.createEl('<div class="imce-item-preview"></div>'),i=t.createEl('<div class="imce-preview-info"></div>');n.appendChild(i);if(e.isFolder){i.appendChild(t.createEl('<div class="path">'+e.formatUri()+'</div>'));n.className+=' folder'}
else{var a=e.getUrl(!0);i.appendChild(t.createEl('<div class="url"><a href="'+a+'" target="_blank">'+a+'</a></div>'))};if(e.size){i.appendChild(t.createEl('<div class="size">'+e.formatSize()+'</div>'))};if(e.width){i.appendChild(t.createEl('<div class="dimensions">'+e.formatDimensions()+'</div>'))};if(e.date){i.appendChild(t.createEl('<div class="date">'+e.formatDate()+'</div>'))};if(e.isImageSource()&&t.getConf('preview_images',1)){s=t.createEl('<div class="imce-preview-image"><img src="'+e.getUrl(!1,!0)+'"></div>');n.appendChild(s);n.className+=' image';s.firstChild.onclick=t.ePrvImgClick};return n};e.setState=function(t){var n,e=this;if(!e[t]){e[t]=!0;i(e.el).addClass(t);if(n=e.branchEl){i(n).addClass(t)}}};e.unsetState=function(t){var n,e=this;if(e[t]){e[t]=!1;i(e.el).removeClass(t);if(n=e.branchEl){i(n).removeClass(t)}}};e.toggleState=function(t,e){if(e==null){e=!this[t]};this[e?'setState':'unsetState'](t)};e.scrollIntoView=function(){t.scrollToEl(this.el,t.contentEl,t.contentHeaderEl.offsetHeight,t.contentStatusEl.offsetHeight)};e.isImageSource=function(){return this.width||this.ext&&this.ext.toLowerCase()==='svg'};t.eItemMousedown=function(e){var i=t.eFix(e);this.Item.click(i);return!(i.ctrlKey||i.shiftKey)};t.eItemDblclick=function(t){this.Item.dblClick();return!1};t.ePrvImgClick=function(){var e=t.previewingItem;if(e){e.dblClick()};return!1}})(jQuery,Drupal,imce);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/modules/imce/js/imce.Item.js. */