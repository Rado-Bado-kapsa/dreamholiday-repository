/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/modules/checklistapi/checklistapi.js. */
(function(t){'use strict';Drupal.behaviors.checklistapiUpdateProgressBar={attach:function(e){const total_items=t(':checkbox.checklistapi-item',e).length;let progress_bar=t('#checklistapi-checklist-form .progress__bar',e);let progress_percentage=t('#checklistapi-checklist-form .progress__percentage',e);t(':checkbox.checklistapi-item',e).change(function(){const num_items_checked=t(':checkbox.checklistapi-item:checked',e).length;const percent_complete=Math.round(num_items_checked/total_items*100);let args={};progress_bar.css('width',percent_complete+'%');args['@complete']=num_items_checked;args['@total']=total_items;args['@percent']=percent_complete;progress_percentage.html(Drupal.t('@complete of @total (@percent%)',args))})}};Drupal.behaviors.checklistapiFieldsetSummaries={attach:function(e){t('#checklistapi-checklist-form .vertical-tabs__panes > details',e).drupalSetSummary(function(e){const total=t(':checkbox.checklistapi-item',e).length;let args={};if(total){args['@complete']=t(':checkbox.checklistapi-item:checked',e).length;args['@total']=total;args['@percent']=Math.round(args['@complete']/args['@total']*100);return Drupal.t('@complete of @total (@percent%)',args)}})}};Drupal.behaviors.checklistapiCompactModeLink={attach:function(e){let is_compact_mode=t('#checklistapi-checklist-form',e).hasClass('compact-mode');const text=is_compact_mode?Drupal.t('Show item descriptions'):Drupal.t('Hide item descriptions');t('#checklistapi-checklist-form .compact-link',e).html('<a href="#">'+text+'</a>');t('#checklistapi-checklist-form .compact-link a',e).click(function(){t(this).closest('#checklistapi-checklist-form').toggleClass('compact-mode');let is_compact_mode=t(this).closest('#checklistapi-checklist-form').hasClass('compact-mode');t(this).text(is_compact_mode?Drupal.t('Show item descriptions'):Drupal.t('Hide item descriptions')).attr('title',is_compact_mode?Drupal.t('Expand layout to include item descriptions.'):Drupal.t('Compress layout by hiding item descriptions.'));document.cookie='Drupal.visitor.checklistapi_compact_mode='+(is_compact_mode?1:0);return!1})}};Drupal.behaviors.checklistapiPromptBeforeLeaving={getFormState:function(){return t('#checklistapi-checklist-form :checkbox.checklistapi-item').serializeArray().toString()},attach:function(){const beginningState=this.getFormState();t(window).bind('beforeunload',function(){var t=Drupal.behaviors.checklistapiPromptBeforeLeaving.getFormState();if(beginningState!==t){return Drupal.t('Your changes will be lost if you leave the page without saving.')}});t('#checklistapi-checklist-form').submit(function(){t(window).unbind('beforeunload')});t('#checklistapi-checklist-form .clear-saved-progress').click(function(){t(window).unbind('beforeunload')})}}})(jQuery);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/modules/checklistapi/checklistapi.js. */