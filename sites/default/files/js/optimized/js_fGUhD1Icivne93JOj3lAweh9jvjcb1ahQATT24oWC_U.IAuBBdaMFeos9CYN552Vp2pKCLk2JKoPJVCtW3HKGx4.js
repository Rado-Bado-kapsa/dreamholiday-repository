/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/core/modules/block/js/block.js. */
(function(e,i,t){t.behaviors.blockSettingsSummary={attach:function(){if(typeof e.fn.drupalSetSummary==='undefined'){return};function i(i){var r=[],n=e(i).find('input[type="checkbox"]:checked + label'),o=n.length;for(var a=0;a<o;a++){r.push(e(n[a]).html())};if(!r.length){r.push(t.t('Not restricted'))};return r.join(', ')};e('[data-drupal-selector="edit-visibility-node-type"], [data-drupal-selector="edit-visibility-language"], [data-drupal-selector="edit-visibility-user-role"]').drupalSetSummary(i);e('[data-drupal-selector="edit-visibility-request-path"]').drupalSetSummary(function(i){var r=e(i).find('textarea[name="visibility[request_path][pages]"]');if(!r.val()){return t.t('Not restricted')};return t.t('Restricted to certain pages')})}};t.behaviors.blockDrag={attach:function(r,o){if(typeof t.tableDrag==='undefined'||typeof t.tableDrag.blocks==='undefined'){return};function s(t,i){t.find('tr.region-message').each(function(){var t=e(this);if(t.prev('tr').get(0)===i.element){if(i.method!=='keyboard'||i.direction==='down'){i.swap('after',this)}};if(t.next('tr').is(':not(.draggable)')||t.next('tr').length===0){t.removeClass('region-populated').addClass('region-empty')}
else if(t.is('.region-empty')){t.removeClass('region-empty').addClass('region-populated')}})};function l(t,i){t.find('.color-success').removeClass('color-success');var r=e(i);if(!r.is('.drag-previous')){t.find('.drag-previous').removeClass('drag-previous');r.addClass('drag-previous')}};function c(e,t){var i=-Math.round(e.find('.draggable').length/2);e.find('.region-'+t+'-message').nextUntil('.region-title').find('select.block-weight').val(function(){return++i})};var n=e('#blocks'),a=t.tableDrag.blocks;a.row.prototype.onSwap=function(e){s(n,this);l(n,this)};a.onDrop=function(){var d=this,o=e(d.rowObject.element),g=o.prevAll('tr.region-message').get(0),r=g.className.replace(/([^ ]+[ ]+)*region-([^ ]+)-message([ ]+[^ ]+)*/,'$2'),a=o.find('select.block-region-select');if(a.find('option[value='+r+']').length===0){i.alert(t.t('The block cannot be placed in this region.'));a.trigger('change')};if(!a.is('.block-region-'+r)){var s=o.find('select.block-weight'),l=s[0].className.replace(/([^ ]+[ ]+)*block-weight-([^ ]+)([ ]+[^ ]+)*/,'$2');a.removeClass('block-region-'+l).addClass('block-region-'+r);s.removeClass('block-weight-'+l).addClass('block-weight-'+r);a.val(r)};c(n,r)};e(r).find('select.block-region-select').once('block-region-select').on('change',function(i){var r=e(this).closest('tr'),o=e(this);a.rowObject=new a.row(r[0]);var d=n.find('.region-'+o[0].value+'-message'),g=d.nextUntil('.region-message, .region-title');if(g.length){g.last().after(r)}
else{d.after(r)};c(n,o[0].value);s(n,a.rowObject);l(n,r);if(!a.changed){e(t.theme('tableDragChangedWarning')).insertBefore(a.table).hide().fadeIn('slow');a.changed=!0};o.trigger('blur')})}}})(jQuery,window,Drupal);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/core/modules/block/js/block.js. */