/* Source and licensing information for the line(s) below can be found at https://www.dreamholiday.space/themes/gavias_lozin/js/override/infinite-scroll.js. */
(function(i,n,l){'use strict';var t=i(window),p=200,s='[data-drupal-views-infinite-scroll-pager="automatic"]',f='[data-drupal-views-infinite-scroll-pager]',a='[data-drupal-views-infinite-scroll-content-wrapper-gvaloadmore]',o='[data-drupal-views-infinite-scroll-content-wrapper-gvaloadmorelistings]',e='[data-drupal-views-infinite-scroll-content-wrapper]',r='scroll.views_infinite_scroll';i.fn.infiniteScrollInsertView=function(r){var u=this.selector.replace('.js-view-dom-id-','views_dom_id:'),t=n.views.instances[u];t.$view.removeOnce('ajax-pager');t.$exposed_form.removeOnce('exposed-form');var c=t.$view.find(f);c.removeOnce('infinite-scroll');if(r.find(a).length>0){e=a};if(r.find(o).length>0){e=o};var p=r.find(e).children(),m=r.find('.js-pager__items');if(r.find(a).length>0){t.$view.find(e).isotope('insert',p);t.$view.find(e).imagesLoaded(function(){t.$view.find(e).isotope('layout')})}
else if(r.find(o).length>0){t.$view.find(e).append(p);var s=0;i('.listing-items .listing-items-wrapper').each(function(){i(this).attr('data-marker',s);s=s+1});var d=L.DomUtil.get('listing-main-map');d.remove();i('.main-map-wrapper').html('<div id="listing-main-map" class="listing-main-map"></div>');map_init();i('.listing-block').each(function(){i(this).magnificPopup({delegate:'a.image-popup',type:'image',gallery:{enabled:!0},})});i('.popup-video').magnificPopup({type:'iframe',fixedContentPos:!1});var l=0;i('.listing-items').each(function(){i(this).find('.item-columns .listing-item-wrapper').each(function(){i(this).attr('data-marker',l);l=l+1})});map_action()}
else{t.$view.find(e).append(p);i('.listing-block').each(function(){i(this).magnificPopup({delegate:'a.image-popup',type:'image',gallery:{enabled:!0},})});i('.popup-video').magnificPopup({type:'iframe',fixedContentPos:!1});i('.listing-items').each(function(){i(this).find('.item-columns .listing-item-wrapper').each(function(){i(this).attr('data-marker',l);l=l+1})});if(typeof map_action!=='undefined'&&i.isFunction(map_action)){map_action()}};c.replaceWith(m);n.attachBehaviors(t.$view[0])};n.behaviors.views_infinite_scroll_automatic={attach:function(e,n){i(e).find(s).once('infinite-scroll').each(function(){var e=i(this);e.addClass('visually-hidden');t.on(r,l(function(){if(window.innerHeight+window.pageYOffset>e.offset().top-p){e.find('[rel=next]').click();t.off(r)}},200))})},detach:function(e,n,a){if(a==='unload'){if(i(e).find(s).removeOnce('infinite-scroll').length){t.off(r)}}}}})(jQuery,Drupal,Drupal.debounce);
/* Source and licensing information for the above line(s) can be found at https://www.dreamholiday.space/themes/gavias_lozin/js/override/infinite-scroll.js. */